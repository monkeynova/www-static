<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lava Parkour</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: #222;
      color: white;
      font-family: sans-serif;
      text-align: center;
    }

    #game {
      position: relative;
      width: 800px;
      height: 400px;
      margin: 20px auto;
      background: #444;
      overflow: hidden;
      border: 4px solid #000;
    }

    .player {
      position: absolute;
      width: 30px;
      height: 30px;
      background: brown;
    }

    .platform, .wall {
      position: absolute;
      background: #888;
    }

    .platform {
      height: 20px;
    }

    .wall {
      width: 20px;
    }

    .lava {
      position: absolute;
      background: red;
      height: 20px;
    }

    .goal {
      position: absolute;
      width: 30px;
      height: 30px;
      background: gold;
      border: 2px solid white;
    }
  </style>
</head>
<body>
  <h1>Lava Parkour Challenge</h1>
  <div id="game"></div>

  <script>
    const game = document.getElementById('game');

    const player = document.createElement('div');
    player.className = 'player';
    game.appendChild(player);

    const level = [
      { type: 'platform', x: 0, y: 370, width: 800 },
      { type: 'platform', x: 100, y: 300, width: 100 },
      { type: 'platform', x: 250, y: 250, width: 100 },
      { type: 'platform', x: 400, y: 200, width: 100 },
      { type: 'platform', x: 550, y: 150, width: 100 },
      { type: 'goal', x: 650, y: 100 },
      { type: 'lava', x: 0, y: 390, width: 800 },
      { type: 'wall', x: 0, y: 0, height: 400 },
      { type: 'wall', x: 780, y: 0, height: 400 }
    ];

    level.forEach(obj => {
      const el = document.createElement('div');
      el.className = obj.type;
      el.style.left = obj.x + 'px';
      el.style.top = obj.y + 'px';
      if (obj.width) el.style.width = obj.width + 'px';
      if (obj.height) el.style.height = obj.height + 'px';
      game.appendChild(el);
    });

    // Game state
    let posX = 50, posY = 340;
    let velX = 0, velY = 0;
    let onGround = false;

    const keys = {};
    document.addEventListener('keydown', e => keys[e.key] = true);
    document.addEventListener('keyup', e => keys[e.key] = false);

    function gameLoop() {
      // Horizontal movement
      if (keys['ArrowLeft'] || keys['a']) velX = -3;
      else if (keys['ArrowRight'] || keys['d']) velX = 3;
      else velX = 0;

      // Jumping
      if ((keys['ArrowUp'] || keys['w'] || keys[' ']) && onGround) {
        velY = -10;
        onGround = false;
      }

      velY += 0.5; // gravity
      posX += velX;
      posY += velY;

      // Collision
      onGround = false;
      document.querySelectorAll('.platform').forEach(p => {
        const rect = p.getBoundingClientRect();
        const px = posX + 15 + game.offsetLeft;
        const py = posY + 30 + game.offsetTop;
        if (px >= rect.left && px <= rect.right &&
            py >= rect.top && py <= rect.top + 10 &&
            velY >= 0) {
          posY = rect.top - game.offsetTop - 30;
          velY = 0;
          onGround = true;
        }
      });

      // Wall bounds
      if (posX < 0) posX = 0;
      if (posX > 770) posX = 770;

      // Lava
      document.querySelectorAll('.lava').forEach(l => {
        const rect = l.getBoundingClientRect();
        const px = posX + 15 + game.offsetLeft;
        const py = posY + 15 + game.offsetTop;
        if (px >= rect.left && px <= rect.right &&
            py >= rect.top && py <= rect.bottom) {
          resetPlayer();
        }
      });

      // Goal
      const goal = document.querySelector('.goal');
      const goalRect = goal.getBoundingClientRect();
      const px = posX + 15 + game.offsetLeft;
      const py = posY + 15 + game.offsetTop;
      if (px >= goalRect.left && px <= goalRect.right &&
          py >= goalRect.top && py <= goalRect.bottom) {
        alert("You beat the lava parkour! Game complete!");
        resetPlayer();
      }

      // Update player position
      player.style.left = posX + 'px';
      player.style.top = posY + 'px';

      requestAnimationFrame(gameLoop);
    }

    function resetPlayer() {
      posX = 50;
      posY = 340;
      velX = 0;
      velY = 0;
    }

    gameLoop();
  </script>
</body>
</html>